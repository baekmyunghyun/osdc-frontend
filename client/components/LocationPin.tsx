import { cn } from "@/lib/utils";

interface LocationPinProps {
  country: string;
  className?: string;
}

const flagComponents: Record<string, React.FC> = {
  us: () => (
    <>
      <div className="w-full h-full bg-[#EEE]" />
      <svg className="absolute inset-0 w-full h-full" viewBox="0 0 34 34" fill="none">
        <path d="M0 4.43481V0H34V4.43481H0Z" fill="#D80027"/>
        <path d="M0 13.3044V8.86957H34V13.3044H0Z" fill="#D80027"/>
        <path d="M0 22.1739V17.7391H34V22.1739H0Z" fill="#D80027"/>
        <path d="M0 30.3044H34V26.6087H0V30.3044Z" fill="#D80027"/>
      </svg>
      <div className="absolute left-0 top-0 w-1/2 h-1/2 bg-[#0052B4]" />
    </>
  ),
  ca: () => (
    <>
      <div className="w-full h-full flex">
        <div className="w-[10px] h-full bg-[#D80027]" />
        <div className="flex-1 bg-[#EEE]" />
        <div className="w-[10px] h-full bg-[#D80027]" />
      </div>
      <svg className="absolute inset-0 w-full h-full" viewBox="0 0 34 34" fill="none">
        <path d="M19.9565 19.2175L22.9129 17.7392L21.4347 17.0001V15.5218L18.4782 17.0001L19.9565 14.0435H18.4782L16.9999 11.8262L15.5217 14.0435H14.0434L15.5217 17.0001L12.5651 15.5218V17.0001L11.0869 17.7392L14.0434 19.2175L13.3043 20.6957H16.2608V22.9131H17.739V20.6957H20.6956L19.9565 19.2175Z" fill="#D80027"/>
      </svg>
    </>
  ),
  uk: () => (
    <>
      <div className="w-full h-full bg-[#0052B4]" />
      <svg className="absolute inset-0 w-full h-full" viewBox="0 0 34 34" fill="none">
        <path d="M30.8125 34H34V30.8125L20.1875 17L34 3.1875V0H30.8125L17 13.8125L3.1875 0H0V3.1875L13.8125 17L0 30.8125V34H3.1875L17 20.1875L30.8125 34Z" fill="#EEE"/>
        <path d="M34 21.25V12.75H21.25V0H12.75V12.75H0V21.25H12.75V34H21.25V21.25H34Z" fill="#EEE"/>
        <path d="M34 19.125V14.875H19.125V0H14.875V14.875H0V19.125H14.875V34H19.125V19.125H34Z" fill="#D80027"/>
        <path d="M0 2.125V0L12.75 12.75H10.625L0 2.125Z" fill="#D80027"/>
        <path d="M17 14.875L17 17L4.25 4.25L6.375 4.25L17 14.875Z" fill="#D80027"/>
        <path d="M2.125 17L0 17L12.75 4.25L12.75 6.375L2.125 17Z" fill="#D80027"/>
        <path d="M14.875 0L17 0L4.25 12.75L4.25 10.625L14.875 0Z" fill="#D80027"/>
      </svg>
    </>
  ),
  de: () => (
    <div className="w-full h-full flex flex-col">
      <div className="h-[11px] bg-[#333]" />
      <div className="flex-1 bg-[#D80027]" />
      <div className="h-[11px] bg-[#FFDA44]" />
    </div>
  ),
  ie: () => (
    <div className="w-full h-full flex">
      <div className="w-[11px] bg-[#6DA544]" />
      <div className="flex-1 bg-[#EEE]" />
      <div className="w-[11px] bg-[#FF9811]" />
    </div>
  ),
  se: () => (
    <>
      <div className="w-full h-full bg-[#0052B4]" />
      <svg className="absolute inset-0 w-full h-full" viewBox="0 0 34 34" fill="none">
        <path d="M34 19.125V14.875H12.75V0H8.5V14.875H0V19.125H8.5V34H12.75V19.125H34Z" fill="#FFDA44"/>
      </svg>
    </>
  ),
  fr: () => (
    <div className="w-full h-full flex">
      <div className="w-[11px] bg-[#0052B4]" />
      <div className="flex-1 bg-[#EEE]" />
      <div className="w-[11px] bg-[#D80027]" />
    </div>
  ),
  jp: () => (
    <>
      <div className="w-full h-full bg-[#EEE]" />
      <svg className="absolute inset-0 w-full h-full" viewBox="0 0 34 34" fill="none">
        <circle cx="17" cy="17" r="7.4375" fill="#D80027"/>
      </svg>
    </>
  ),
  kr: () => (
    <>
      <div className="w-full h-full bg-[#EEE]" />
      <svg className="absolute inset-0" viewBox="0 0 34 34" fill="none">
        <path d="M1.04514 5.22564L5.22564 1.04514L4.1805 0L0 4.1805L1.04514 5.22564Z" fill="#333"/>
        <path d="M18.8146 1.04838L20.3823 2.61606L21.4274 1.57092L19.8597 0.00324205L18.8146 1.04838Z" fill="#333"/>
        <path d="M21.4285 6.79675L17.248 2.61625L18.2932 1.57111L22.4737 5.75161L21.4285 6.79675Z" fill="#333"/>
        <path d="M19.8537 15.6795L18.286 17.2472L19.3311 18.2924L20.8988 16.7247L19.8537 15.6795Z" fill="#333"/>
        <path d="M17.2401 18.2924L15.6724 19.8601L16.7175 20.9052L18.2852 19.3376L17.2401 18.2924Z" fill="#333"/>
        <path d="M21.4216 20.3824L22.9893 18.8148L24.0344 19.8599L22.4668 21.4276L21.4216 20.3824Z" fill="#333"/>
        <path d="M20.3758 21.4281L18.8081 22.9958L19.8532 24.041L21.4209 22.4733L20.3758 21.4281Z" fill="#333"/>
        <path d="M19.8537 18.8149L21.4214 17.2473L22.4665 18.2924L20.8989 19.8601L19.8537 18.8149Z" fill="#333"/>
        <path d="M18.8085 19.8601L17.2409 21.4278L18.286 22.4729L19.8537 20.9053L18.8085 19.8601Z" fill="#333"/>
        <path d="M15.6796 4.18431L17.2472 5.75199L18.2923 4.7069L16.7246 3.13922L15.6796 4.18431Z" fill="#333"/>
        <path d="M19.8601 8.36549L18.2924 6.79781L19.3375 5.75272L20.9051 7.3204L19.8601 8.36549Z" fill="#333"/>
        <path d="M22.9965 5.22987L21.4289 3.66219L22.474 2.61705L24.0417 4.18474L22.9965 5.22987Z" fill="#333"/>
        <path d="M5.22608 22.9925L1.04558 18.812L0.000445695 19.8572L4.18095 24.0377L5.22608 22.9925Z" fill="#333"/>
        <path d="M5.22586 19.8564L6.79354 21.424L5.74845 22.4691L4.18077 20.9015L5.22586 19.8564Z" fill="#333"/>
        <path d="M4.18049 18.8117L2.61281 17.244L1.56767 18.2891L3.13536 19.8568L4.18049 18.8117Z" fill="#333"/>
        <path d="M4.18068 15.6759L8.36118 19.8564L7.31605 20.9015L3.13555 16.721L4.18068 15.6759Z" fill="#333"/>
        <path d="M6.79333 2.61264L2.61283 6.79314L1.56769 5.748L5.74819 1.5675L6.79333 2.61264Z" fill="#333"/>
        <path d="M4.18199 8.36178L8.36249 4.18128L7.3174 3.13619L3.1369 7.31669L4.18199 8.36178Z" fill="#333"/>
        <circle cx="6.375" cy="6.375" r="6.375" transform="matrix(-0.707107 -0.707107 -0.707107 0.707107 18.0312 9.01562)" fill="#D80027"/>
        <path d="M4.5068 4.50863C2.01831 6.99712 2.01659 11.0318 4.50418 13.5194C6.99177 16.007 11.0339 16.0127 13.5224 13.5242C14.7683 12.2784 14.772 10.2566 13.5258 9.01044C12.2787 7.76331 10.2602 7.77027 9.01431 9.01614C7.76826 10.2622 5.74938 10.265 4.50187 9.01746C3.25684 7.77204 3.26075 5.75468 4.5068 4.50863Z" fill="#0052B4"/>
      </svg>
    </>
  ),
  hk: () => (
    <>
      <div className="w-full h-full bg-[#D80027]" />
      <svg className="absolute inset-0" viewBox="0 0 34 34" fill="none">
        <path d="M18.755 12.8609C18.3687 14.4678 17.6822 14.1614 17.3454 15.5628C15.3609 15.0857 14.1388 13.0902 14.6159 11.1056C15.0929 9.12119 17.0886 7.89905 19.073 8.37618C18.3992 11.179 19.1007 11.4236 18.755 12.8609Z" fill="#EEE"/>
        <path d="M13.6058 14.0515C15.0147 14.9154 14.5111 15.4737 15.7397 16.2272C14.6727 17.9671 12.3973 18.5126 10.6573 17.4457C8.91742 16.3787 8.37176 14.1032 9.43877 12.3633C11.8962 13.8702 12.3454 13.2787 13.6058 14.0515Z" fill="#EEE"/>
        <path d="M13.147 19.3172C14.4041 18.2442 14.7792 18.8956 15.8755 17.96C17.2007 19.5123 17.0163 21.8451 15.464 23.1702C13.9116 24.4953 11.5788 24.3108 10.2539 22.7585C12.4462 20.887 12.0225 20.2768 13.147 19.3172Z" fill="#EEE"/>
        <path d="M18.013 21.3808C17.3808 19.8536 18.1163 19.698 17.5652 18.3663C19.4511 17.5858 21.6127 18.4819 22.3933 20.3678C23.1737 22.2537 22.2775 24.4153 20.3916 25.1958C19.2895 22.5323 18.5783 22.7467 18.013 21.3808Z" fill="#EEE"/>
        <path d="M21.479 17.3905C19.8313 17.5198 19.9104 16.772 18.4737 16.8848C18.3141 14.8502 19.8344 13.0711 21.8691 12.9114C23.9038 12.7521 25.6829 14.2722 25.8424 16.307C22.9685 16.5324 22.9526 17.275 21.479 17.3905Z" fill="#EEE"/>
      </svg>
    </>
  ),
  br: () => (
    <>
      <div className="w-full h-full bg-[#6DA544]" />
      <svg className="absolute inset-0" viewBox="0 0 34 34" fill="none">
        <path d="M28.0869 17L14.043 27.3477L0 17L14.043 6.65234L28.0869 17Z" fill="#FFDA44" transform="translate(3, 7) scale(0.83)"/>
        <circle cx="17" cy="17" r="5.91" fill="#EEE"/>
      </svg>
    </>
  ),
  sg: () => (
    <>
      <div className="w-full h-full flex flex-col">
        <div className="h-1/2 bg-[#D80027]" />
        <div className="h-1/2 bg-[#EEE]" />
      </div>
      <svg className="absolute inset-0" viewBox="0 0 34 34" fill="none">
        <path d="M5.54312 8.50002C5.54312 6.02319 7.28383 3.95411 9.60831 3.44643C9.25105 3.36847 8.88043 3.32617 8.49959 3.32617C5.64207 3.32617 3.32568 5.64255 3.32568 8.50008C3.32568 11.3576 5.64207 13.674 8.49959 13.674C8.8803 13.674 9.25098 13.6317 9.60831 13.5537C7.28383 13.046 5.54312 10.9769 5.54312 8.50002Z" fill="#EEE"/>
        <path d="M12.1954 3.6958L12.5624 4.82504H13.7498L12.7891 5.52304L13.1561 6.65227L12.1954 5.95441L11.2348 6.65227L11.6017 5.52304L10.6411 4.82504H11.8285L12.1954 3.6958Z" fill="#EEE"/>
        <path d="M9.31494 5.91309L9.68183 7.04239H10.8692L9.90861 7.74032L10.2756 8.86956L9.31494 8.17169L8.35417 8.86956L8.7212 7.74032L7.7605 7.04239H8.94791L9.31494 5.91309Z" fill="#EEE"/>
        <path d="M15.0758 5.91309L15.4428 7.04239H16.6302L15.6695 7.74032L16.0365 8.86956L15.0758 8.17169L14.1152 8.86956L14.4821 7.74032L13.5215 7.04239H14.7088L15.0758 5.91309Z" fill="#EEE"/>
        <path d="M13.9671 9.23926L14.3341 10.3686H15.5215L14.5608 11.0665L14.9278 12.1957L13.9671 11.4979L13.0065 12.1957L13.3735 11.0665L12.4128 10.3686H13.6001L13.9671 9.23926Z" fill="#EEE"/>
        <path d="M10.4235 9.23926L10.7904 10.3686H11.9779L11.0172 11.0665L11.3842 12.1957L10.4235 11.4979L9.46281 12.1957L9.82977 11.0665L8.86914 10.3686H10.0566L10.4235 9.23926Z" fill="#EEE"/>
      </svg>
    </>
  ),
  au: () => (
    <>
      <div className="w-full h-full bg-[#0052B4]" />
      <div className="absolute left-0 top-0 w-1/2 h-1/2 bg-[#0052B4]">
        <svg className="w-full h-full" viewBox="0 0 17 17" fill="none">
          <path d="M15.4062 17H17V15.4062L10.0938 8.5L17 1.59375V0H15.4062L8.5 6.90625L1.59375 0H0V1.59375L6.90625 8.5L0 15.4062V17H1.59375L8.5 10.0938L15.4062 17Z" fill="#EEE"/>
          <path d="M17 10.625V6.375H10.625V0H6.375V6.375H0V10.625H6.375V17H10.625V10.625H17Z" fill="#EEE"/>
          <path d="M17 9.5625V7.4375H9.5625V0H7.4375V7.4375H0V9.5625H7.4375V17H9.5625V9.5625H17Z" fill="#D80027"/>
          <path d="M0 1.0625V0L6.375 6.375H5.3125L0 1.0625Z" fill="#D80027"/>
          <path d="M8.5 7.4375L8.5 8.5L2.125 2.125L3.1875 2.125L8.5 7.4375Z" fill="#D80027"/>
          <path d="M1.0625 8.5L0 8.5L6.375 2.125L6.375 3.1875L1.0625 8.5Z" fill="#D80027"/>
          <path d="M7.4375 0L8.5 0L2.125 6.375L2.125 5.3125L7.4375 0Z" fill="#D80027"/>
        </svg>
      </div>
      <svg className="absolute inset-0" viewBox="0 0 34 34" fill="none">
        <path d="M8.4999 21.8042L9.43291 23.7551L11.5398 23.2681L10.5963 25.214L12.2906 26.5576L10.181 27.033L10.1869 29.1955L8.4999 27.8426L6.81291 29.1955L6.81882 27.033L4.70923 26.5576L6.40358 25.214L5.45995 23.2681L7.56695 23.7551L8.4999 21.8042Z" fill="#EEE"/>
        <path d="M25.4524 23.6519L25.9189 24.6273L26.9724 24.3838L26.5006 25.3567L27.3478 26.0285L26.293 26.2663L26.2959 27.3475L25.4524 26.671L24.6089 27.3475L24.6119 26.2663L23.5571 26.0285L24.4043 25.3567L23.9325 24.3838L24.9859 24.6273L25.4524 23.6519Z" fill="#EEE"/>
        <path d="M21.1127 13.3042L21.5791 14.2797L22.6326 14.0361L22.1608 15.009L23.008 15.6809L21.9532 15.9186L21.9561 16.9998L21.1127 16.3234L20.2692 16.9998L20.272 15.9186L19.2173 15.6809L20.0644 15.009L19.5927 14.0361L20.6461 14.2797L21.1127 13.3042Z" fill="#EEE"/>
        <path d="M25.4524 7.39111L25.9189 8.36662L26.9724 8.12311L26.5007 9.09603L27.3477 9.76779L26.293 10.0056L26.2959 11.0868L25.4524 10.4103L24.6089 11.0868L24.6119 10.0056L23.5571 9.76779L24.4042 9.09603L23.9325 8.12311L24.9859 8.36662L25.4524 7.39111Z" fill="#EEE"/>
        <path d="M29.243 11.8257L29.7095 12.8012L30.7629 12.5576L30.2912 13.5305L31.1383 14.2024L30.0835 14.4402L30.0864 15.5213L29.243 14.8449L28.3995 15.5213L28.4024 14.4402L27.3477 14.2024L28.1948 13.5305L27.7231 12.5576L28.7765 12.8012L29.243 11.8257Z" fill="#EEE"/>
        <path d="M26.5324 17L26.8993 18.1293H28.0868L27.1261 18.8273L27.4931 19.9565L26.5324 19.2586L25.5718 19.9565L25.9387 18.8273L24.978 18.1293H26.1654L26.5324 17Z" fill="#EEE"/>
      </svg>
    </>
  ),
  in: () => (
    <div className="w-full h-full flex flex-col">
      <div className="h-[10px] bg-[#FF9811]" />
      <div className="flex-1 bg-[#EEE] relative">
        <svg className="absolute inset-0 m-auto" width="12" height="12" viewBox="0 0 12 12" fill="none">
          <path d="M5.84375 0C9.07116 0 11.6875 2.61634 11.6875 5.84375C11.6875 9.07116 9.07116 11.6875 5.84375 11.6875C2.61634 11.6875 0 9.07116 0 5.84375C0 2.61634 2.61634 0 5.84375 0ZM5.2334 7.59863L3.49805 10.0098C3.69152 10.1189 3.89354 10.2141 4.10254 10.2959C4.18996 10.0303 4.46966 9.8761 4.74316 9.94922C5.01734 10.0227 5.18126 10.2968 5.12305 10.5713C5.34057 10.6042 5.56296 10.6205 5.78906 10.623L5.49219 7.66895L5.62891 7.4209C5.49211 7.40246 5.3608 7.36824 5.2373 7.31738L5.2334 7.59863ZM6.44727 7.31836C6.32372 7.369 6.19247 7.40366 6.05566 7.42188L6.19238 7.66797L5.89551 10.623C6.12229 10.6206 6.34532 10.6042 6.56348 10.5713C6.50537 10.297 6.66937 10.0228 6.94336 9.94922C7.21709 9.87587 7.49571 10.0309 7.58301 10.2969C7.79177 10.2153 7.99323 10.1196 8.18652 10.0107L6.45215 7.59961L6.44727 7.31836ZM7.10254 6.81641C7.01927 6.92404 6.92312 7.02031 6.81543 7.10352L7.05762 7.24902L8.2793 9.95703C8.47179 9.84281 8.65524 9.71541 8.8291 9.57617C8.6432 9.36756 8.64853 9.04874 8.84863 8.84863C9.04875 8.64861 9.36759 8.64322 9.57617 8.8291C9.71524 8.65546 9.84292 8.47251 9.95703 8.28027L7.24805 7.05859L7.10254 6.81641ZM4.43652 7.05957L1.72949 8.2793C1.84368 8.47177 1.97116 8.65525 2.11035 8.8291C2.31882 8.64305 2.63767 8.64882 2.83789 8.84863C3.03807 9.04882 3.04355 9.36756 2.85742 9.57617C3.03089 9.71515 3.21422 9.84198 3.40625 9.95605L4.62793 7.24805L4.86914 7.10254C4.76166 7.01922 4.6651 6.92311 4.58203 6.81543L4.43652 7.05957ZM7.66699 6.19336L7.4209 6.05664C7.40259 6.1936 7.36721 6.32458 7.31641 6.44824L7.59863 6.45312L10.0098 8.1875C10.1187 7.99422 10.2142 7.79275 10.2959 7.58398C10.0302 7.49652 9.87591 7.21693 9.94922 6.94336C10.0229 6.66947 10.297 6.50527 10.5713 6.56348C10.6042 6.34563 10.6206 6.12293 10.623 5.89648L7.66699 6.19336ZM1.06348 5.89648C1.06592 6.12288 1.08236 6.34567 1.11523 6.56348C1.38976 6.50493 1.66463 6.6692 1.73828 6.94336C1.81161 7.21701 1.65647 7.49563 1.39063 7.58301C1.47216 7.79162 1.56697 7.99336 1.67578 8.18652L4.08691 6.45312L4.36914 6.44824C4.31831 6.32439 4.28289 6.19285 4.26465 6.05566L4.01758 6.19336L1.06348 5.89648ZM1.67578 3.5C1.56695 3.69313 1.4722 3.89494 1.39063 4.10352C1.65662 4.1908 1.81163 4.4704 1.73828 4.74414C1.6646 5.01834 1.3898 5.18169 1.11523 5.12305C1.08232 5.34084 1.06597 5.56365 1.06348 5.79004L4.01758 5.49316L4.26465 5.63086C4.28297 5.49371 4.31824 5.36209 4.36914 5.23828L4.08691 5.2334L1.67578 3.5ZM7.59863 5.2334L7.31641 5.23828C7.36728 5.3619 7.40251 5.49296 7.4209 5.62988L7.66699 5.49316L10.623 5.79004C10.6206 5.5636 10.6042 5.34089 10.5713 5.12305C10.2968 5.18141 10.0218 5.01824 9.94824 4.74414C9.87491 4.47046 10.03 4.18989 10.2959 4.10254C10.2142 3.89381 10.1188 3.69227 10.0098 3.49902L7.59863 5.2334ZM3.40625 1.73047C3.21424 1.8445 3.03088 1.97142 2.85742 2.11035C3.04403 2.31895 3.03824 2.63852 2.83789 2.83887C2.63752 3.03884 2.31882 3.0439 2.11035 2.85742C1.97115 3.03123 1.8437 3.21479 1.72949 3.40723L4.43652 4.62695L4.58203 4.87012C4.66529 4.76241 4.76242 4.66628 4.87012 4.58301L4.62793 4.43848L3.40625 1.73047ZM7.05762 4.4375L6.81543 4.58301C6.9229 4.66598 7.01936 4.76184 7.10254 4.86914L7.24805 4.62793L9.95703 3.40625C9.84289 3.21406 9.71525 3.03102 9.57617 2.85742C9.36761 3.04373 9.0489 3.039 8.84863 2.83887C8.64836 2.63859 8.64271 2.31895 8.8291 2.11035C8.65525 1.97116 8.47177 1.84368 8.2793 1.72949L7.05762 4.4375ZM5.78906 1.06348C5.56301 1.06601 5.34053 1.08236 5.12305 1.11523C5.18182 1.38998 5.01764 1.66474 4.74316 1.73828C4.46937 1.81148 4.18964 1.65679 4.10254 1.39062C3.89358 1.47239 3.69149 1.56763 3.49805 1.67676L5.2334 4.08789L5.2373 4.36914C5.36103 4.31822 5.49283 4.284 5.62988 4.26562L5.49219 4.01758L5.78906 1.06348ZM6.19238 4.01855L6.05469 4.26465C6.19176 4.2828 6.32349 4.31747 6.44727 4.36816L6.45215 4.08691L8.18652 1.67578C7.99326 1.56692 7.79174 1.47122 7.58301 1.38965C7.49606 1.6562 7.21741 1.81171 6.94336 1.73828C6.66909 1.66468 6.50391 1.38982 6.5625 1.11523C6.34469 1.0824 6.12191 1.06588 5.89551 1.06348L6.19238 4.01855Z" fill="#002266"/>
        </svg>
      </div>
      <div className="h-[10px] bg-[#496E2D]" />
    </div>
  ),
};

export default function LocationPin({ country, className }: LocationPinProps) {
  const FlagComponent = flagComponents[country.toLowerCase()];
  
  return (
    <div className={cn("relative flex flex-col items-center", className)}>
      <div className="relative w-12 h-[74px] flex-shrink-0">
        <svg className="absolute inset-0 w-full h-full" viewBox="0 0 48 75" fill="none">
          <path d="M47.0327 23.5164C47.0327 42.7408 23.5164 74.3599 23.5164 74.3599C23.5164 74.3599 0 42.7408 0 23.5164C0 10.5286 10.5286 0 23.5164 0C36.5041 0 47.0327 10.5286 47.0327 23.5164Z" fill="#E73200"/>
        </svg>
        <div className="absolute left-1/2 top-[6px] -translate-x-1/2 w-[34px] h-[34px] rounded-full border-2 border-white overflow-hidden">
          <div className="relative w-full h-full">
            {FlagComponent && <FlagComponent />}
          </div>
        </div>
      </div>
    </div>
  );
}
